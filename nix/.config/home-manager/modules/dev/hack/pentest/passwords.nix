{
  pkgs,
  lib,
  config,
  ...
}: let
  excluded = config.features.excludePkgs or [];
  notExcluded = p: let n = p.pname or (lib.getName p); in !(lib.elem n excluded);
  notBroken = p: !(((p.meta or {}).broken or false));
in {
  # Auto-skip broken packages and allow user-defined exclusions without editing lists.
  home.packages = lib.filter notBroken (lib.filter notExcluded (with pkgs; [
    brutespray # Brute-Forcing from Nmap output.
    chntpw # Utility for resetting or blanking local passwords used by winNT
    crowbar # brute-force tool for pentesting with support for protocols missing in thc-hydra
    crunch # Wordlist generator
    hashcat # Worldâ€™s fastest and most advanced password recovery tool
    hcxtools # Small set of tools convert packets from captures. For the use with latest hashcat or John the Ripper
    # John the Ripper jumbo - advanced offline password cracker, which supports hundreds of hash and cipher types, and runs on many
    # operating systems, CPUs, GPUs, and even some FPGAs
    john # advanced offline password cracker
    phrasendrescher # Modular and multi processing pass phrase cracking tool
    thc-hydra # Login hacker tool
  ]));
}
